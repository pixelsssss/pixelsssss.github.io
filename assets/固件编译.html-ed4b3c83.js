import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as i,c as r,a as e,d as t,b as l,w as s,e as c}from"./app-5974d0f8.js";const u={},_=e("h2",{id:"_1-概述",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-概述","aria-hidden":"true"},"#"),t(" 1. 概述")],-1),h={href:"https://www.t-firefly.com/product/core/core3568j.html?theme=pc#spec",target:"_blank",rel:"noopener noreferrer"},p=e("h2",{id:"_2-恢复出厂环境",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-恢复出厂环境","aria-hidden":"true"},"#"),t(" 2. 恢复出厂环境")],-1),x=e("code",null,"images/",-1),m=e("code",null,"sylixos-update.img",-1),b=e("h2",{id:"_3-更新系统环境",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-更新系统环境","aria-hidden":"true"},"#"),t(" 3. 更新系统环境")],-1),v=e("p",null,[t("在 SDK 的 "),e("code",null,"tools/"),t(" 目录下，"),e("code",null,"rk356x_sylixos_sdk"),t(" 为固件打包工具，该工具内容介绍如下：")],-1),g=e("thead",null,[e("tr",null,[e("th",null,"目录"),e("th",null,"说明")])],-1),f=e("tr",null,[e("td",null,"common/"),e("td",null,"存放固件打包脚本，一般无需改动")],-1),y=e("tr",null,[e("td",null,"rockdev/"),e("td",null,"存放需保留的 eMMC 分区镜像，如 MiniLoaderAll.bin、uboot.img 等，主要用于引导 SylixOS，一般无需改动")],-1),S=e("tr",null,[e("td",null,"SylixOS/"),e("td",null,"存放 SylixOS 根文件系统、备份分区和启动分区目录")],-1),k=e("tr",null,[e("td",null,"tools/"),e("td",null,"存放固件打包使用的工具，如文件系统镜像制作工具等，一般无需改动")],-1),E={href:"http://build.sh",target:"_blank",rel:"noopener noreferrer"},B=e("td",null,"固件打包脚本，一般无需改动",-1),A={href:"http://README.md",target:"_blank",rel:"noopener noreferrer"},O=e("td",null,"打包工具使用说明，一般无需改动",-1),D=c(`<h3 id="_3-1-镜像拷贝" tabindex="-1"><a class="header-anchor" href="#_3-1-镜像拷贝" aria-hidden="true">#</a> 3.1 镜像拷贝</h3><p>① 将自行编译的 <code>bsprk3568_aio_x64.bin</code> 拷贝到 <code>SylixOS/syboot</code> 和 <code>SylixOS/syrecovery</code> 目录下；</p><p>② 内核相关的动态库、驱动模块等，拷贝到 <code>SylixOS/syrootfs</code> 下对应的目录中。</p><h3 id="_3-2-固件编译、打包" tabindex="-1"><a class="header-anchor" href="#_3-2-固件编译、打包" aria-hidden="true">#</a> 3.2 固件编译、打包</h3><p>在 <code>rk356x_sylixos_sdk</code> 目录下，打开终端，按如下顺序进行固件打包：</p><p>① 声明环境变量</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>source common/envsetup.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>② 编译 SylixOS boot 镜像</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>./build.sh syboot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>③ 编译 SylixOS rootfs 镜像</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>./build.sh syrootfs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>④ 编译 SylixOS recovery 镜像</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>./build.sh syrecovery
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>⑤ 制作 SylixOS update.img 镜像</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>./build.sh updateimg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15),w=e("code",null,"rockdev/pack",-1),L=e("code",null,"sylixos-update.img",-1);function M(C,N){const d=o("ExternalLinkIcon"),n=o("RouterLink");return i(),r("div",null,[_,e("p",null,[t("本文档基于 "),e("a",h,[t("Core-3568J"),l(d)]),t(" 提供了一种固件编译打包方法，用于恢复或者更新 SylixOS 环境。")]),p,e("p",null,[t("在 SDK 的 "),x,t(" 目录下，"),m,t(" 为出厂默认烧录的系统固件，可直接参考 "),l(n,{to:"/open_source_docs/sdk/rockchip/rk3568/%E9%87%8F%E4%BA%A7%E6%96%B9%E6%A1%88/aio/%E5%9B%BA%E4%BB%B6%E7%83%A7%E5%BD%95.html"},{default:s(()=>[t("固件烧录")]),_:1}),t(" 恢复出厂系统环境。")]),b,v,e("table",null,[g,e("tbody",null,[f,y,S,k,e("tr",null,[e("td",null,[e("a",E,[t("build.sh"),l(d)])]),B]),e("tr",null,[e("td",null,[e("a",A,[t("README.md"),l(d)])]),O])])]),D,e("p",null,[t("以上操作结束后，在 "),w,t(" 目录下会生成一个 "),L,t(" 固件，参考 "),l(n,{to:"/open_source_docs/sdk/rockchip/rk3568/%E9%87%8F%E4%BA%A7%E6%96%B9%E6%A1%88/aio/%E5%9B%BA%E4%BB%B6%E7%83%A7%E5%BD%95.html"},{default:s(()=>[t("固件烧录")]),_:1}),t(" 更新系统环境。")])])}const F=a(u,[["render",M],["__file","固件编译.html.vue"]]);export{F as default};
